import{d as K,r as d,c as L,a as l,b as t,h as n,k as p,j as C,F as S,f as k,S as o,o as i,p as y,n as z,i as U,t as _,g as O,T as R,u as j,z as E,_ as M}from"./index-D0MhBClt.js";import{c as P}from"./camera-tb7Dl6oP.js";const q={class:"cloud-center-page"},A={class:"page-header"},H={class:"header-toolbar"},J={class:"page-body"},Q={class:"zone-panel"},W={class:"zone-list"},X=["onClick"],Y=["onClick"],ee={type:"button",class:"header-actions"},te={key:0,class:"zone-devices"},ae=["onClick"],se={class:"panel-actions"},ne={type:"button",class:"action-icon"},oe={type:"button",class:"action-icon"},le={class:"monitor-panel"},ie={class:"monitor-grid"},re=["onClick"],de={class:"monitor-preview"},ce={class:"preview-icon"},ue=["src"],ve={class:"monitor-info"},he={class:"info-title"},me={class:"info-tag"},pe=K({__name:"CloudCenter",setup(_e){var I;const x=E(),b=d([{id:"zone-green",label:"绿化种植区",devices:[{id:"device-green-1",label:"Solar Greenhouse"},{id:"device-green-2",label:"Solar Greenhouse"},{id:"device-green-3",label:"Solar Greenhouse"}]},{id:"zone-eco",label:"生态种植区",devices:[{id:"device-eco-1",label:"Solar Greenhouse"}]},{id:"zone-farm",label:"农业种植区",devices:[{id:"device-farm-1",label:"Solar Greenhouse"}]},{id:"zone-plant",label:"植物生产区",devices:[{id:"device-plant-1",label:"Solar Greenhouse"}]},{id:"zone-smart",label:"智能种植区",devices:[{id:"device-smart-1",label:"Solar Greenhouse"},{id:"device-smart-2",label:"Solar Greenhouse"}]}]),Z=d([{id:"camera-1",name:"Solar Greenhouse",zoneId:"zone-green",zoneLabel:"农业种植区",status:"online"},{id:"camera-2",name:"Solar Greenhouse",zoneId:"zone-green",zoneLabel:"农业种植区",status:"online"},{id:"camera-3",name:"Solar Greenhouse",zoneId:"zone-green",zoneLabel:"农业种植区",status:"online"},{id:"camera-4",name:"Solar Greenhouse",zoneId:"zone-eco",zoneLabel:"农业种植区",status:"online"},{id:"camera-5",name:"Solar Greenhouse",zoneId:"zone-farm",zoneLabel:"农业种植区",status:"offline"},{id:"camera-6",name:"Solar Greenhouse",zoneId:"zone-plant",zoneLabel:"农业种植区",status:"online"},{id:"camera-7",name:"Solar Greenhouse",zoneId:"zone-smart",zoneLabel:"农业种植区",status:"online"},{id:"camera-8",name:"Solar Greenhouse",zoneId:"zone-smart",zoneLabel:"农业种植区",status:"offline"},{id:"camera-9",name:"Solar Greenhouse",zoneId:"zone-smart",zoneLabel:"农业种植区",status:"online"}]),T=[{label:"全部状态",value:"all"},{label:"在线",value:"online"},{label:"离线",value:"offline"}],B={online:"在线",offline:"离线"},w=d(""),f=d(""),u=d("all"),c=d(b.value.map(s=>s.id)),v=d(((I=b.value[0])==null?void 0:I.id)??""),D=L(()=>{const s=w.value.trim();return s?b.value.map(e=>{if(e.label.includes(s))return e;const r=e.devices.filter(h=>h.label.includes(s));return r.length?{...e,devices:r}:null}).filter(e=>!!e):b.value}),N=L(()=>{const s=f.value.trim().toLowerCase();return Z.value.filter(e=>{const r=u.value==="all"||e.status===u.value,h=!s||e.name.toLowerCase().includes(s),g=!v.value||e.zoneId===v.value;return r&&h&&g})}),V=s=>{c.value=c.value.includes(s)?c.value.filter(e=>e!==s):[...c.value,s]},G=s=>{v.value=s},$=()=>{f.value="",u.value="all"},F=s=>{x.push({name:"CloudCenterDetail",params:{cameraId:s}})};return(s,e)=>{const r=C("a-input-search"),h=C("a-select"),g=C("a-button");return i(),l("div",q,[t("div",A,[e[5]||(e[5]=t("div",{class:"title-block"},[t("span",{class:"title-cn"},"云台中心"),t("span",{class:"title-en"},"PTZ Center")],-1)),t("div",H,[n(r,{value:f.value,"onUpdate:value":e[0]||(e[0]=a=>f.value=a),placeholder:"按设备名称搜索","allow-clear":"",class:"toolbar-search"},{suffix:p(()=>[n(o,{name:"search",width:"16",height:"16"})]),_:1},8,["value"]),n(h,{value:u.value,"onUpdate:value":e[1]||(e[1]=a=>u.value=a),class:"toolbar-select",options:T,bordered:!1,"popup-class-name":"cloud-center-select-popup"},null,8,["value"]),n(g,{class:"ghost-btn",onClick:$},{default:p(()=>[n(o,{name:"refresh",width:"16",height:"16"}),e[3]||(e[3]=y(" 重置 ",-1))]),_:1}),n(g,{class:"ghost-btn"},{default:p(()=>[n(o,{name:"node",width:"16",height:"16"}),e[4]||(e[4]=y(" 高级筛选 ",-1))]),_:1})])]),t("div",J,[t("section",Q,[n(r,{value:w.value,"onUpdate:value":e[2]||(e[2]=a=>w.value=a),placeholder:"按关键字进行搜索","allow-clear":"",class:"panel-search"},{suffix:p(()=>[n(o,{name:"search",width:"16",height:"16"})]),_:1},8,["value"]),t("div",W,[(i(!0),l(S,null,k(D.value,a=>(i(),l("div",{key:a.id,class:"zone-group"},[t("div",{class:z(["zone-group-header",{active:v.value===a.id}])},[t("button",{type:"button",class:"arrow-btn",onClick:U(m=>V(a.id),["stop"])},[n(o,{name:"arrow",width:"12",height:"12",class:z({expanded:c.value.includes(a.id)})},null,8,["class"])],8,X),t("button",{type:"button",class:"header-main",onClick:m=>G(a.id)},[n(o,{name:"folder",width:"16",height:"16"}),t("span",null,_(a.label),1)],8,Y),t("button",ee,[n(o,{name:"more",width:"12",height:"12"})])],2),n(R,{name:"fade"},{default:p(()=>[c.value.includes(a.id)?(i(),l("div",te,[(i(!0),l(S,null,k(a.devices,m=>(i(),l("button",{key:m.id,type:"button",class:z(["zone-device",{active:v.value===a.id}]),onClick:be=>G(a.id)},[n(o,{name:"device",width:"16",height:"16"}),t("span",null,_(m.label),1)],10,ae))),128))])):O("",!0)]),_:2},1024)]))),128))]),t("div",se,[t("button",ne,[n(o,{name:"association",width:"16",height:"16"})]),t("button",oe,[n(o,{name:"clear",width:"16",height:"16"})])])]),t("section",le,[t("div",ie,[(i(!0),l(S,null,k(N.value,a=>(i(),l("button",{key:a.id,type:"button",class:"monitor-card",onClick:m=>F(a.id)},[t("div",de,[t("div",ce,[t("img",{src:j(P),alt:"camera"},null,8,ue)]),t("span",{class:z(["status-chip",a.status])},[e[6]||(e[6]=t("span",{class:"dot"},null,-1)),y(" "+_(B[a.status]),1)],2)]),t("div",ve,[t("div",he,_(a.name),1),t("div",me,_(a.zoneLabel),1)])],8,re))),128))])])])])}}}),ze=M(pe,[["__scopeId","data-v-96ea50db"]]);export{ze as default};
