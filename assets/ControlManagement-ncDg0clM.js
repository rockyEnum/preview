import{d as K,r as c,c as C,a as r,b as e,h as a,k as d,j as m,F as y,f as x,S as n,o as v,p as f,n as F,t as b,_ as O}from"./index-D0MhBClt.js";const U={class:"control-page"},V={class:"control-header"},q={class:"actions-row"},D={class:"status-select"},E={class:"control-body"},M={class:"filter-panel"},T={class:"area-list"},j=["onClick"],z=["data-active"],R={class:"panel-footer"},$={class:"icon-btn",type:"button"},G={class:"icon-btn",type:"button"},H={class:"devices-wrapper"},J={class:"device-grid"},P={class:"device-card__head"},Q={class:"device-icon"},W={class:"device-card__body"},X={class:"device-info"},Y={class:"device-name"},Z={class:"device-status"},ee=K({__name:"ControlManagement",setup(te){const p=c(""),u=c(""),h=c("all"),o=c("agriculture"),L=[{label:"状态",value:"all"},{label:"在线",value:"online"},{label:"离线",value:"offline"},{label:"开启",value:"open"},{label:"关闭",value:"closed"}],w=[{label:"全部区域",value:"all"},{label:"绿化种植区",value:"green"},{label:"生态种植区",value:"eco"},{label:"农业种植区",value:"agriculture"},{label:"植物生产区",value:"production"},{label:"智能种植区",value:"smart"}],k=c([{id:1,name:"通风口",status:"closed",online:!1,area:"agriculture"},{id:2,name:"通风口",status:"closed",online:!0,area:"agriculture"},{id:3,name:"通风口",status:"closed",online:!0,area:"eco"},{id:4,name:"通风口",status:"open",online:!0,area:"green"},{id:5,name:"通风口",status:"open",online:!0,area:"agriculture"},{id:6,name:"通风口",status:"open",online:!0,area:"production"},{id:7,name:"通风口",status:"open",online:!0,area:"smart"},{id:8,name:"通风口",status:"closed",online:!1,area:"agriculture"}]),N=C(()=>u.value?w.filter(l=>l.label.toLowerCase().includes(u.value.toLowerCase())):w),S=C(()=>k.value.filter(l=>{const t=p.value.trim(),i=t?l.name.includes(t):!0,g=o.value==="all"||l.area===o.value,_=(()=>{switch(h.value){case"online":return l.online;case"offline":return!l.online;case"open":return l.status==="open";case"closed":return l.status==="closed";default:return!0}})();return i&&g&&_})),A=l=>{const t=k.value.find(i=>i.id===l);!t||!t.online||(t.status=t.status==="open"?"closed":"open")},B=()=>{p.value="",u.value="",h.value="all",o.value="all"};return(l,t)=>{const i=m("a-input"),g=m("a-select"),_=m("a-button"),I=m("a-switch");return v(),r("div",U,[e("header",V,[t[5]||(t[5]=e("div",{class:"title-block"},[e("p",{class:"title"}," 设备列表 "),e("p",{class:"subtitle"}," Equipment List ")],-1)),e("div",q,[a(i,{value:p.value,"onUpdate:value":t[0]||(t[0]=s=>p.value=s),class:"search-input","allow-clear":"",placeholder:"按设备名称搜索"},{suffix:d(()=>[a(n,{name:"search",width:"16",height:"16"})]),_:1},8,["value"]),e("div",D,[a(g,{value:h.value,"onUpdate:value":t[1]||(t[1]=s=>h.value=s),bordered:!1,options:L,"popup-class-name":"status-select-dropdown"},{suffixIcon:d(()=>[a(n,{name:"arrow",width:"12",height:"12"})]),_:1},8,["value"])]),a(_,{class:"ghost-btn",onClick:B},{default:d(()=>[a(n,{name:"refresh",width:"16",height:"16"}),t[3]||(t[3]=f(" 重置 ",-1))]),_:1}),a(_,{class:"ghost-btn"},{default:d(()=>[a(n,{name:"tool",width:"16",height:"16"}),t[4]||(t[4]=f(" 高级筛选 ",-1))]),_:1})])]),e("section",E,[e("aside",M,[a(i,{value:u.value,"onUpdate:value":t[2]||(t[2]=s=>u.value=s),class:"panel-search",placeholder:"按关键字进行搜索"},{suffix:d(()=>[a(n,{name:"search",width:"16",height:"16"})]),_:1},8,["value"]),e("ul",T,[(v(!0),r(y,null,x(N.value,s=>(v(),r("li",{key:s.value,class:F(["area-item",{active:o.value===s.value}]),onClick:se=>o.value=s.value},[e("span",{class:"radio","data-active":o.value===s.value},null,8,z),e("span",null,b(s.label),1)],10,j))),128))]),e("div",R,[e("button",$,[a(n,{name:"device",width:"16",height:"16"})]),e("button",G,[a(n,{name:"clear",width:"16",height:"16"})])])]),e("div",H,[e("div",J,[(v(!0),r(y,null,x(S.value,s=>(v(),r("div",{key:s.id,class:"device-card"},[e("div",P,[e("div",Q,[a(n,{name:"device",width:"28",height:"28"})]),a(I,{checked:s.status==="open",disabled:!s.online,"checked-children":"ON","un-checked-children":"OFF",onChange:()=>A(s.id)},null,8,["checked","disabled","onChange"])]),e("div",W,[e("div",X,[e("p",Y,b(s.name),1),e("p",Z,[t[6]||(t[6]=f(" 状态：",-1)),e("span",null,b(s.status==="open"?"开启":"关闭"),1)])]),e("div",{class:F(["online-status",s.online?"is-online":"is-offline"])},[t[7]||(t[7]=e("span",{class:"dot"},null,-1)),f(" "+b(s.online?"在线":"离线"),1)],2)])]))),128))])])])])}}}),le=O(ee,[["__scopeId","data-v-3a9f1779"]]);export{le as default};
