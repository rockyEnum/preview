import{c as G}from"./camera-tb7Dl6oP.js";import{d as V,r as g,c as T,a as p,b as e,w as F,v as Y,e as K,F as S,f as I,o as i,n as M,g as D,h as n,S as b,t as l,i as P,_ as B,j as h,k as v,l as y,m as X,p as U,q as O}from"./index-D0MhBClt.js";import{L as W}from"./LineChart-CMvYhR_R.js";const j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIeSURBVHgBxZc/S8NQEMAvVXQwBSf/bFV0E4xODqKCDkLBOjiIk4M4OfQbWHBxawUnKdhJEYTWQXBQxC/QBnVTrFurYFuwzs+7JC02fS9Ja/784PrCu9e8y93l8k4CAYwxBYcYyhIKXQ9CZ9RQVEOOJEl6d/Qv3DiCkmXuc0r3tttcQaky7ygy3bNNpL+b41AAf5jBkFBoIGRsHsEhC/5x3whHyJjYR4mAf1BCJ+lCMiwpQjDMkAfiEBzrvfgzbbUinTnTpBt2trc0sWCRPKBYrSiVP6BbSuVPuyUKGeC4wkVXV7QnCssD4BKDvZ2snlWmQJZlcJOODDg4TIHbhMBDZAehojrA7BaJkil5fKLV8vjeLogMsMsXRyEYHRnizus3l4R6J9h64PrmFuWOq3t5fdOSUmTAwvwcbG7EwApbD+TVJ/iu/+CN1qDdOH2Mri636dKZczTQvsI7CgG5mmoAzzgKAU8n8pqZngTCU1DiXVxeQUF9hq9KDerohdGRYc2YVl0VKihmXR515DnSTU6MQ39fH9cAoQfy6mPLN6BxTZXQrKNcoDwgT1DOiHQ8PK0DTiADahAcNTJA5Wkopu1z+usW5nwPGnO8VzIs/n6odB5MsOBIUSHy8zRsZixkHI9z4D+ZZrfE9G7Iy4bETJEZx/LAG5MWmN6aFZl3VJmpNeMZQeHIMPehhjdi3k+yMgT0noGO7f9pzx9QclyXI79W4Ssxd9zRvwAAAABJRU5ErkJggg==",q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAL3SURBVHgBxVfhahNBEJ4LiVRTNMFSCla5aEkFA16KoiiiFH/4R/RRfAMfQXwC+wYt9Jco1OKfKmIi5ocNYgJGLBJJlLSWJrDOd3d7ud7t7Xm1ST+Y7OV2bufbmdm5G4MiIISweHjAcocF1zlKhi5L1ZWnhmE0/+kpNmyyLIvDxzOsHWfcYumI0aEhHM96MPzGeajQeFDmkCA0lHKNmzws0/iwJsORcm88ZjFpfEBCP8GF4TJp0NGgnOafRzqNzS8tqrNs7+xS/tQklS/N0fSU+kT+aHepVm/aY/bEBJXmTSqcndEt/xAeWCPnrIfQ+LpFbyqfQvcXb1ghEiC4+nIjpLtQmqPi+VmKwCvkgBU1i91L+A2CWBCV2mfvOseeUq2hgAUCkRWu+6vnLYhdw6XA9p/dkO7eYGCP0Ll3+4pHGJ7RIJfWzWIRxBNEapvNIQHFormTkzR9OmfrQBfPSfI6pHSTpaLpXWNRCJIqk0nvI9HvD+yKhjmpJ7HASasDklDoFGDoPce3zy7O8y6hXHfjCg/BeI91MIIwwgPJHp+wky8f44FYAkHssaHVFxs2oSDu371uH78kSFFCHGP3Z7NhI/BGUuMHIiBJBAHPHASJCSAnZIb7sePmQVKk4xRgrN5wSjGOmnQzTgKu4Q3owAMy+zu/e/Z9lO24sGgJfNtq0+u3Ne//mZkp+6jZGc/nPeOGAuRQHTGHUXqo9b2tLNt+aEPw0XeeYRACA9htxpcH2KUkIfUk8HLSQesBWYqxA1nhICq34uzLdwR0W+w9PK/KlyABaCh9JHeGRZ6vv6OOS0hFAIUHsMvwz65HPiYHughBNWp2vjB8jUrjgL9ES6DqZdKOQ/27Vun6UAWB9ajZ4oVZumZd9HaBsnrrakmZVJhbvDlMODyDb4HCOe0HyQdjzF/DQRRS7ufxCo0fS163JJxuaJQNiapBMWH7yBuTfRBOa9YQo0NHBFozFQmEY0kcPtDwmkF7ho4IOT3DZfq/9hzHfEXpcsZf2LZAzGmJy0UAAAAASUVORK5CYII=",e2={class:"map-sidebar"},t2={class:"search-bar"},a2={class:"list-content"},s2=["onClick"],n2={class:"folder-icon"},o2={class:"category-name"},l2=["onClick"],i2={key:0,class:"sub-items"},c2=["onClick"],d2={class:"item-icon"},r2={class:"item-name"},m2=V({__name:"MapSidebar",props:{data:{default:()=>[]}},emits:["itemClick","search"],setup(t,{emit:_}){const s=t,x=_,a=g(""),A=g([{name:"绿化种植区",expanded:!0,items:[{name:"Solar Greenhouse",id:"1"},{name:"Solar Greenhouse",id:"2"}]},{name:"生态种植区",expanded:!1,items:[{name:"Solar Greenhouse",id:"3"},{name:"Solar Greenhouse",id:"4"},{name:"Solar Greenhouse",id:"5"}]},{name:"农业种植区",expanded:!1,items:[{name:"Solar Greenhouse",id:"6"}]},{name:"植物生产区",expanded:!1,items:[{name:"Solar Greenhouse",id:"7"},{name:"Solar Greenhouse",id:"8"}]},{name:"智能种植区",expanded:!1,items:[{name:"Solar Greenhouse",id:"9"},{name:"Solar Greenhouse",id:"10"},{name:"Solar Greenhouse",id:"11"}]}]),f=T(()=>s.data.length>0?s.data:A.value),u=T(()=>{if(!a.value)return f.value;const r=a.value.toLowerCase();return f.value.map(d=>{const o=d.items.filter(m=>m.name.toLowerCase().includes(r)||d.name.toLowerCase().includes(r));return o.length>0||d.name.toLowerCase().includes(r)?{...d,items:o.length>0?o:d.items}:null}).filter(Boolean)}),k=r=>{const d=u.value[r];d&&(d.expanded=!d.expanded)},c=()=>{x("search",a.value)},L=r=>{console.log("更多操作:",r.name)},H=r=>{x("itemClick",r)};return(r,d)=>(i(),p("div",e2,[e("div",t2,[F(e("input",{"onUpdate:modelValue":d[0]||(d[0]=o=>a.value=o),type:"text",class:"search-input",placeholder:"按关键字进行搜索",onKeyup:K(c,["enter"])},null,544),[[Y,a.value]]),e("button",{class:"search-button",onClick:c},[...d[1]||(d[1]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.35-4.35"})],-1)])])]),e("div",a2,[(i(!0),p(S,null,I(u.value,(o,m)=>(i(),p("div",{key:m,class:M(["category-item",{expanded:o.expanded,active:o.expanded}])},[e("div",{class:"category-header",onClick:C=>k(m)},[e("span",{class:M(["arrow-icon",{expanded:o.expanded}])},[n(b,{name:"arrow-right"})],2),e("span",n2,[n(b,{name:"folder"})]),e("span",o2,l(o.name),1),e("span",{class:"more-icon",onClick:P(C=>L(o),["stop"])},[n(b,{name:"more"})],8,l2)],8,s2),o.expanded?(i(),p("div",i2,[(i(!0),p(S,null,I(o.items,(C,R)=>(i(),p("div",{key:R,class:"sub-item",onClick:E=>H(C)},[e("span",d2,[n(b,{name:"device"})]),e("span",r2,l(C.name),1)],8,c2))),128))])):D("",!0)],2))),128))])]))}}),C2=B(m2,[["__scopeId","data-v-cdadf75e"]]),p2={class:"marker-card"},u2={class:"card-header"},h2={class:"title"},v2={class:"status-wrapper"},_2={class:"status-text"},A2={class:"meta-list"},f2={class:"meta-item"},g2={class:"meta-value"},w2={class:"meta-item"},x2={class:"meta-value"},k2={class:"meta-item"},L2={class:"meta-value"},b2={key:0,class:"stats-block"},H2={class:"stats-title"},y2={class:"stats-grid"},S2={class:"stats-item"},I2={class:"stats-value"},V2={class:"stats-item"},B2={class:"stats-value"},T2={class:"stats-item"},M2={class:"stats-value warning"},D2=V({__name:"MarkerDetailCard",props:{data:{}},setup(t){const _=t,s=T(()=>{switch(_.data.status){case"online":return{key:"online",text:"在线"};case"error":return{key:"error",text:"告警"};default:return{key:"offline",text:"离线"}}});return(x,a)=>(i(),p("div",p2,[e("div",u2,[e("div",h2,l(t.data.name),1),e("div",v2,[e("span",{class:M(["status-dot",`status-${s.value.key}`])},null,2),e("span",_2,l(s.value.text),1),n(b,{name:"wifi",class:M(`${s.value.key}-icon`)},null,8,["class"])])]),e("div",A2,[e("div",f2,[a[0]||(a[0]=e("span",{class:"meta-label"},"节点编码",-1)),e("span",g2,l(t.data.nodeCode),1)]),e("div",w2,[a[1]||(a[1]=e("span",{class:"meta-label"},"节点类型",-1)),e("span",x2,l(t.data.nodeType),1)]),e("div",k2,[a[2]||(a[2]=e("span",{class:"meta-label"},"最后上报时间",-1)),e("span",L2,l(t.data.lastReportTime),1)])]),t.data.stats?(i(),p("div",b2,[e("div",H2,[n(b,{name:"node",size:"24"}),a[3]||(a[3]=e("span",null,"传感器配置",-1))]),e("div",y2,[e("div",S2,[a[4]||(a[4]=e("div",{class:"stats-label"},"已绑定",-1)),e("div",I2,l(t.data.stats.total),1)]),e("div",V2,[a[5]||(a[5]=e("div",{class:"stats-label"},"正常",-1)),e("div",B2,l(t.data.stats.normal),1)]),e("div",T2,[a[6]||(a[6]=e("div",{class:"stats-label"},"异常",-1)),e("div",M2,l(t.data.stats.abnormal),1)])])])):D("",!0)]))}}),R2=B(D2,[["__scopeId","data-v-54b1c151"]]),z2={class:"region-phase-tabs"},E2={class:"field-block"},O2={class:"field-name"},$2={class:"field-meta"},U2={class:"meta-row"},Z2={class:"meta-value"},J2={class:"meta-row"},N2={class:"meta-value"},Q2={class:"meta-row"},G2={class:"meta-value"},F2={class:"meta-row"},Y2={class:"meta-value online"},K2={class:"phase-header"},P2={class:"phase-name"},X2={key:0,class:"phase-badge"},W2={class:"phase-range"},j2={class:"estimate-placeholder"},q2=V({__name:"RegionPhaseTabs",props:{phases:{},activeIndex:{},title:{},area:{},crop:{},sowingDate:{},statusText:{}},setup(t){return(_,s)=>{const x=h("a-step"),a=h("a-steps"),A=h("a-tab-pane"),f=h("a-tabs");return i(),p("div",z2,[e("div",E2,[e("div",O2,l(t.title),1),e("div",$2,[e("div",U2,[s[0]||(s[0]=e("span",{class:"meta-label"},"种植面积",-1)),e("span",Z2,l(t.area)+"亩",1)]),e("div",J2,[s[1]||(s[1]=e("span",{class:"meta-label"},"当前作物",-1)),e("span",N2,l(t.crop),1)]),e("div",Q2,[s[2]||(s[2]=e("span",{class:"meta-label"},"播种时间",-1)),e("span",G2,l(t.sowingDate),1)]),e("div",F2,[s[3]||(s[3]=e("span",{class:"meta-label"},"智能管控",-1)),e("span",Y2,l(t.statusText),1)])])]),n(f,{size:"small"},{default:v(()=>[n(A,{key:"phase",tab:"作物物候期"},{default:v(()=>[n(a,{current:t.activeIndex,direction:"vertical",size:"small",class:"phase-steps"},{default:v(()=>[(i(!0),p(S,null,I(t.phases,(u,k)=>(i(),y(x,{key:u.name,status:k<=t.activeIndex?"process":"wait"},{title:v(()=>[e("div",K2,[e("div",P2,l(k+1)+". "+l(u.name),1),u.badge?(i(),p("div",X2,l(u.badge),1)):D("",!0)])]),description:v(()=>[e("div",W2,l(u.range),1)]),_:2},1032,["status"]))),128))]),_:1},8,["current"])]),_:1}),n(A,{key:"estimate",tab:"产量预估"},{default:v(()=>[e("div",j2,[X(_.$slots,"estimate",{},()=>[s[4]||(s[4]=U(" 产量预估内容开发中… ",-1))],!0)])]),_:3})]),_:3})])}}}),e0=B(q2,[["__scopeId","data-v-950dcc94"]]),t0={class:"region-modal-body"},a0={class:"side-panel"},s0={class:"main-panel"},n0={class:"toolbar"},o0={class:"toolbar-left"},l0={class:"toolbar-right"},i0={class:"chart-panel"},c0=V({__name:"RegionDetailModal",props:{open:{type:Boolean},title:{default:"示例农田"},area:{default:5.82},crop:{default:"草莓-天仙醉"},sowingDate:{default:"2025年8月20日"},chartTitle:{default:"长势指数"},xData:{},yData:{}},emits:["update:open"],setup(t,{emit:_}){const s=t,x=_,a=T({get:()=>s.open,set:k=>x("update:open",k)}),A=g([{name:"生长期",range:"8/20–9/15"},{name:"现蕾期",range:"9/15–10/10"},{name:"开花结果",range:"预计11/08前结果",badge:"采摘活动进行中"},{name:"旺盛生长",range:"预计3/01前"},{name:"花芽分化期",range:"预计9/05前"},{name:"休眠期",range:"预计7/05前"}]),f=g(2),u=[{label:"原始数据",value:"raw"},{label:"生长指数",value:"growth"}];return(k,c)=>{const L=h("a-date-picker"),H=h("a-select"),r=h("a-button"),d=h("a-modal");return i(),y(d,{open:a.value,"onUpdate:open":c[1]||(c[1]=o=>a.value=o),title:t.title,footer:null,width:"960px",destroyOnClose:!0,maskClosable:!0,wrapClassName:"region-detail-modal"},{default:v(()=>{var o;return[e("div",t0,[e("div",a0,[n(e0,{phases:A.value,activeIndex:f.value,"onUpdate:activeIndex":c[0]||(c[0]=m=>f.value=m),title:t.title||"",area:t.area||0,crop:t.crop||"",sowingDate:t.sowingDate||"",statusText:"运行中"},null,8,["phases","activeIndex","title","area","crop","sowingDate"])]),e("div",s0,[e("div",n0,[e("div",o0,[n(L,{size:"small",placeholder:"开始日期"}),c[2]||(c[2]=e("span",{class:"to-label"},"To",-1)),n(L,{size:"small",placeholder:"结束日期"}),n(H,{size:"small",style:{width:"120px"},options:u,value:(o=u[0])==null?void 0:o.value},null,8,["value"])]),e("div",l0,[n(r,{size:"small",shape:"circle"},{default:v(()=>[...c[3]||(c[3]=[e("span",{class:"icon-font"},"⟳",-1)])]),_:1}),n(r,{size:"small",type:"primary"},{default:v(()=>[...c[4]||(c[4]=[U(" 导出Excel ",-1)])]),_:1}),n(r,{size:"small",shape:"circle"},{default:v(()=>[...c[5]||(c[5]=[e("span",{class:"icon-font"},"⬈",-1)])]),_:1})])]),e("div",i0,[n(W,{title:"",xData:t.xData,yData:t.yData,height:"260px"},null,8,["xData","yData"])])])])]}),_:1},8,["open","title"])}}}),d0=B(c0,[["__scopeId","data-v-25ce07d1"]]),r0="data:image/svg+xml,%3csvg%20width='24'%20height='28'%20viewBox='0%200%2024%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.51253%203.51253C8.1959%20-1.17084%2015.7997%20-1.17084%2020.4831%203.51253C25.1665%208.1959%2025.1665%2015.7997%2020.4831%2020.4831L15.219%2025.7471C13.4409%2027.5252%2010.5547%2027.5252%208.77657%2025.7471L3.51253%2020.4831C-1.17084%2015.7997%20-1.17084%208.1959%203.51253%203.51253Z'%20fill='white'/%3e%3ccircle%20cx='12.0273'%20cy='11.9978'%20r='11'%20fill='%23FF383C'/%3e%3cg%20clip-path='url(%23clip0_1146_4068)'%3e%3cpath%20d='M12.0273%204.9978C8.64492%204.9978%205.90234%207.74038%205.90234%2011.1228C5.90234%2014.5052%208.64492%2017.2478%2012.0273%2017.2478C15.4098%2017.2478%2018.1523%2014.5052%2018.1523%2011.1228C18.1523%207.74038%2015.4098%204.9978%2012.0273%204.9978ZM12.0273%206.52905C12.3896%206.52905%2012.6836%206.823%2012.6836%207.1853C12.6836%207.54761%2012.3896%207.84155%2012.0273%207.84155C11.665%207.84155%2011.3711%207.54761%2011.3711%207.1853C11.3711%206.823%2011.665%206.52905%2012.0273%206.52905ZM12.0273%2014.1853C10.3361%2014.1853%208.96484%2012.814%208.96484%2011.1228C8.96484%209.43159%2010.3361%208.0603%2012.0273%208.0603C13.7186%208.0603%2015.0898%209.43159%2015.0898%2011.1228C15.0898%2012.814%2013.7186%2014.1853%2012.0273%2014.1853Z'%20fill='white'/%3e%3cpath%20d='M14.215%2011.1228C14.215%2011.7066%2013.988%2012.2562%2013.5738%2012.6691C13.1609%2013.0833%2012.6113%2013.3103%2012.0275%2013.3103C11.4437%2013.3103%2010.8941%2013.0833%2010.4812%2012.6691C10.0669%2012.2562%209.83999%2011.7066%209.83999%2011.1228C9.83999%2010.539%2010.0669%209.9894%2010.4812%209.57651C10.8941%209.16226%2011.4437%208.9353%2012.0275%208.9353C12.6113%208.9353%2013.1609%209.16226%2013.5738%209.57651C13.988%209.9894%2014.215%2010.539%2014.215%2011.1228ZM16.2207%2017.0687C16.4804%2017.2464%2016.4722%2017.632%2016.2056%2017.8001C14.9943%2018.5589%2013.5628%2018.9978%2012.0275%2018.9978C10.4921%2018.9978%209.06069%2018.5589%207.84937%2017.7988C7.58277%2017.632%207.57456%2017.2464%207.83433%2017.0673C7.97788%2016.9689%208.16655%2016.9648%208.31558%2017.0578C8.63003%2017.2546%208.95952%2017.4269%209.30405%2017.5718C10.1654%2017.9382%2011.0814%2018.1228%2012.0275%2018.1228C12.9736%2018.1228%2013.8896%2017.9382%2014.7523%2017.5732C15.0968%2017.4269%2015.4263%2017.256%2015.7408%2017.0591C15.8884%2016.9662%2016.0771%2016.9689%2016.2207%2017.0687Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1146_4068'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(5.02734%204.9978)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",$="data:image/svg+xml,%3csvg%20width='24'%20height='28'%20viewBox='0%200%2024%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.51253%203.51253C8.1959%20-1.17084%2015.7997%20-1.17084%2020.4831%203.51253C25.1665%208.1959%2025.1665%2015.7997%2020.4831%2020.4831L15.219%2025.7471C13.4409%2027.5252%2010.5547%2027.5252%208.77657%2025.7471L3.51253%2020.4831C-1.17084%2015.7997%20-1.17084%208.1959%203.51253%203.51253Z'%20fill='white'/%3e%3ccircle%20cx='12.0273'%20cy='11.9978'%20r='11'%20fill='url(%23paint0_linear_1146_4062)'/%3e%3cg%20clip-path='url(%23clip0_1146_4062)'%3e%3cpath%20d='M12.0273%204.9978C8.64492%204.9978%205.90234%207.74038%205.90234%2011.1228C5.90234%2014.5052%208.64492%2017.2478%2012.0273%2017.2478C15.4098%2017.2478%2018.1523%2014.5052%2018.1523%2011.1228C18.1523%207.74038%2015.4098%204.9978%2012.0273%204.9978ZM12.0273%206.52905C12.3896%206.52905%2012.6836%206.823%2012.6836%207.1853C12.6836%207.54761%2012.3896%207.84155%2012.0273%207.84155C11.665%207.84155%2011.3711%207.54761%2011.3711%207.1853C11.3711%206.823%2011.665%206.52905%2012.0273%206.52905ZM12.0273%2014.1853C10.3361%2014.1853%208.96484%2012.814%208.96484%2011.1228C8.96484%209.43159%2010.3361%208.0603%2012.0273%208.0603C13.7186%208.0603%2015.0898%209.43159%2015.0898%2011.1228C15.0898%2012.814%2013.7186%2014.1853%2012.0273%2014.1853Z'%20fill='white'/%3e%3cpath%20d='M14.215%2011.1228C14.215%2011.7066%2013.988%2012.2562%2013.5738%2012.6691C13.1609%2013.0833%2012.6113%2013.3103%2012.0275%2013.3103C11.4437%2013.3103%2010.8941%2013.0833%2010.4812%2012.6691C10.0669%2012.2562%209.83999%2011.7066%209.83999%2011.1228C9.83999%2010.539%2010.0669%209.9894%2010.4812%209.57651C10.8941%209.16226%2011.4437%208.9353%2012.0275%208.9353C12.6113%208.9353%2013.1609%209.16226%2013.5738%209.57651C13.988%209.9894%2014.215%2010.539%2014.215%2011.1228ZM16.2207%2017.0687C16.4804%2017.2464%2016.4722%2017.632%2016.2056%2017.8001C14.9943%2018.5589%2013.5628%2018.9978%2012.0275%2018.9978C10.4921%2018.9978%209.06069%2018.5589%207.84937%2017.7988C7.58277%2017.632%207.57456%2017.2464%207.83433%2017.0673C7.97788%2016.9689%208.16655%2016.9648%208.31558%2017.0578C8.63003%2017.2546%208.95952%2017.4269%209.30405%2017.5718C10.1654%2017.9382%2011.0814%2018.1228%2012.0275%2018.1228C12.9736%2018.1228%2013.8896%2017.9382%2014.7523%2017.5732C15.0968%2017.4269%2015.4263%2017.256%2015.7408%2017.0591C15.8884%2016.9662%2016.0771%2016.9689%2016.2207%2017.0687Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1146_4062'%20x1='23.0273'%20y1='22.9978'%20x2='1.02734'%20y2='0.997803'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234171EE'/%3e%3cstop%20offset='1'%20stop-color='%2384A6FF'/%3e%3c/linearGradient%3e%3cclipPath%20id='clip0_1146_4062'%3e%3crect%20width='14'%20height='14'%20fill='white'%20transform='translate(5.02734%204.9978)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",m0="data:image/svg+xml,%3csvg%20width='24'%20height='28'%20viewBox='0%200%2024%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.51253%203.51253C8.1959%20-1.17084%2015.7997%20-1.17084%2020.4831%203.51253C25.1665%208.1959%2025.1665%2015.7997%2020.4831%2020.4831L15.219%2025.7471C13.4409%2027.5252%2010.5547%2027.5252%208.77657%2025.7471L3.51253%2020.4831C-1.17084%2015.7997%20-1.17084%208.1959%203.51253%203.51253Z'%20fill='white'/%3e%3ccircle%20cx='12.0273'%20cy='11.9978'%20r='11'%20fill='url(%23paint0_linear_1146_4058)'/%3e%3cpath%20d='M16.8352%206C17.0663%206%2017.257%206.17618%2017.285%206.40352L17.2887%206.46154V10.1538C17.2887%2010.2662%2017.2484%2010.3747%2017.1754%2010.459C17.1024%2010.5433%2017.0017%2010.5976%2016.8922%2010.6117L16.8352%2010.6154H12.451V12.1535H16.8352C17.0663%2012.1535%2017.257%2012.3297%2017.285%2012.5575L17.2887%2012.6156V14.6152H18.0443C18.2755%2014.6152%2018.4667%2014.7914%2018.4947%2015.0193L18.4978%2015.0773V17.5385C18.4978%2017.6609%2018.45%2017.7783%2018.365%2017.8648C18.2799%2017.9514%2018.1646%2018%2018.0443%2018H15.626C15.5057%2018%2015.3904%2017.9514%2015.3053%2017.8648C15.2203%2017.7783%2015.1725%2017.6609%2015.1725%2017.5385V15.0767C15.1725%2014.822%2015.3752%2014.6152%2015.626%2014.6152H16.3817V13.0766L12.451%2013.076V14.6152H13.2072C13.4384%2014.6152%2013.6291%2014.7914%2013.6571%2015.0193L13.6607%2015.0773V17.5385C13.6607%2017.6609%2013.6129%2017.7783%2013.5279%2017.8648C13.4428%2017.9514%2013.3275%2018%2013.2072%2018H10.7884C10.6681%2018%2010.5528%2017.9514%2010.4677%2017.8648C10.3827%2017.7783%2010.3349%2017.6609%2010.3349%2017.5385V15.0767C10.3349%2014.822%2010.5381%2014.6152%2010.7884%2014.6152H11.544V13.076L7.61394%2013.0766V14.6152H8.37011C8.60126%2014.6152%208.79199%2014.7914%208.81997%2015.0193L8.8236%2015.0773V17.5385C8.82358%2017.6509%208.78323%2017.7595%208.71013%2017.8438C8.63703%2017.9281%208.53621%2017.9823%208.4266%2017.9963L8.36959%2018H5.9513C5.8409%2018%205.7343%2017.959%205.65148%2017.8847C5.56866%2017.8104%205.51531%2017.7079%205.50143%2017.5965L5.4978%2017.5385V15.0767C5.4978%2014.8415%205.67091%2014.6474%205.89429%2014.6189L5.9513%2014.6152H6.70695V12.6156C6.70695%2012.3803%206.88005%2012.1857%207.10395%2012.1572L7.16096%2012.154L11.544%2012.1535V10.6154H7.16044C7.05005%2010.6154%206.94345%2010.5744%206.86063%2010.5001C6.77781%2010.4258%206.72445%2010.3233%206.71058%2010.2119L6.70695%2010.1538V6.46154C6.70695%206.22629%206.88005%206.03218%207.10395%206.00369L7.16096%206H16.8352ZM9.57925%207.84615H8.97442L8.91741%207.84985C8.80793%207.86402%208.70729%207.91835%208.63435%208.00263C8.56141%208.08691%208.52116%208.19538%208.52116%208.30769C8.52116%208.42001%208.56141%208.52847%208.63435%208.61276C8.70729%208.69704%208.80793%208.75136%208.91741%208.76554L8.97442%208.76923H9.57925L9.63626%208.76554C9.75063%208.75073%209.85516%208.69214%209.9286%208.60169C10.002%208.51124%2010.0389%208.39572%2010.0316%208.27862C10.0243%208.16152%209.97354%208.05163%209.88951%207.9713C9.80548%207.89096%209.69454%207.84622%209.57925%207.84615Z'%20fill='white'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1146_4058'%20x1='23.0273'%20y1='22.9978'%20x2='1.02734'%20y2='0.997803'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%234171EE'/%3e%3cstop%20offset='1'%20stop-color='%2384A6FF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",C0="data:image/svg+xml,%3csvg%20width='24'%20height='28'%20viewBox='0%200%2024%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.51253%203.51253C8.1959%20-1.17084%2015.7997%20-1.17084%2020.4831%203.51253C25.1665%208.1959%2025.1665%2015.7997%2020.4831%2020.4831L15.219%2025.7471C13.4409%2027.5252%2010.5547%2027.5252%208.77657%2025.7471L3.51253%2020.4831C-1.17084%2015.7997%20-1.17084%208.1959%203.51253%203.51253Z'%20fill='white'/%3e%3ccircle%20cx='12.0273'%20cy='11.9978'%20r='11'%20fill='%23FF383C'/%3e%3cpath%20d='M16.8352%206C17.0663%206%2017.257%206.17618%2017.285%206.40352L17.2887%206.46154V10.1538C17.2887%2010.2662%2017.2484%2010.3747%2017.1754%2010.459C17.1024%2010.5433%2017.0017%2010.5976%2016.8922%2010.6117L16.8352%2010.6154H12.451V12.1535H16.8352C17.0663%2012.1535%2017.257%2012.3297%2017.285%2012.5575L17.2887%2012.6156V14.6152H18.0443C18.2755%2014.6152%2018.4667%2014.7914%2018.4947%2015.0193L18.4978%2015.0773V17.5385C18.4978%2017.6609%2018.45%2017.7783%2018.365%2017.8648C18.2799%2017.9514%2018.1646%2018%2018.0443%2018H15.626C15.5057%2018%2015.3904%2017.9514%2015.3053%2017.8648C15.2203%2017.7783%2015.1725%2017.6609%2015.1725%2017.5385V15.0767C15.1725%2014.822%2015.3752%2014.6152%2015.626%2014.6152H16.3817V13.0766L12.451%2013.076V14.6152H13.2072C13.4384%2014.6152%2013.6291%2014.7914%2013.6571%2015.0193L13.6607%2015.0773V17.5385C13.6607%2017.6609%2013.6129%2017.7783%2013.5279%2017.8648C13.4428%2017.9514%2013.3275%2018%2013.2072%2018H10.7884C10.6681%2018%2010.5528%2017.9514%2010.4677%2017.8648C10.3827%2017.7783%2010.3349%2017.6609%2010.3349%2017.5385V15.0767C10.3349%2014.822%2010.5381%2014.6152%2010.7884%2014.6152H11.544V13.076L7.61394%2013.0766V14.6152H8.37011C8.60126%2014.6152%208.79199%2014.7914%208.81997%2015.0193L8.8236%2015.0773V17.5385C8.82358%2017.6509%208.78323%2017.7595%208.71013%2017.8438C8.63703%2017.9281%208.53621%2017.9823%208.4266%2017.9963L8.36959%2018H5.9513C5.8409%2018%205.7343%2017.959%205.65148%2017.8847C5.56866%2017.8104%205.51531%2017.7079%205.50143%2017.5965L5.4978%2017.5385V15.0767C5.4978%2014.8415%205.67091%2014.6474%205.89429%2014.6189L5.9513%2014.6152H6.70695V12.6156C6.70695%2012.3803%206.88005%2012.1857%207.10395%2012.1572L7.16096%2012.154L11.544%2012.1535V10.6154H7.16044C7.05005%2010.6154%206.94345%2010.5744%206.86063%2010.5001C6.77781%2010.4258%206.72445%2010.3233%206.71058%2010.2119L6.70695%2010.1538V6.46154C6.70695%206.22629%206.88005%206.03218%207.10395%206.00369L7.16096%206H16.8352ZM9.57925%207.84615H8.97442L8.91741%207.84985C8.80793%207.86402%208.70729%207.91835%208.63435%208.00263C8.56141%208.08691%208.52116%208.19538%208.52116%208.30769C8.52116%208.42001%208.56141%208.52847%208.63435%208.61276C8.70729%208.69704%208.80793%208.75136%208.91741%208.76554L8.97442%208.76923H9.57925L9.63626%208.76554C9.75063%208.75073%209.85516%208.69214%209.9286%208.60169C10.002%208.51124%2010.0389%208.39572%2010.0316%208.27862C10.0243%208.16152%209.97354%208.05163%209.88951%207.9713C9.80548%207.89096%209.69454%207.84622%209.57925%207.84615Z'%20fill='white'/%3e%3c/svg%3e",p0={class:"page-content"},u0={class:"mapDiv"},h0={name:"Home"},v0=V({...h0,setup(t){const _=O({center:[113.280637,23.125178],zoom:11,url:"http://t0.tianditu.gov.cn/img_w/wmts?SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=img&STYLE=default&TILEMATRIXSET=w&FORMAT=tiles&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&tk=89c275f45280dafa212081b0e9cdce7b"}),s=g([{position:[113.280637,23.125178],icon:{iconUrl:m0,iconSize:[24,28]},title:"传感器节点",data:{name:"Node one",nodeCode:"21100000008-1N",nodeType:"DATA",status:"online",lastReportTime:"2024-09-27 03:49:57",stats:{total:14,normal:13,abnormal:1}}},{position:[113.285637,23.130178],icon:{iconUrl:$,iconSize:[24,28]},title:"太阳能温室",data:{name:"Solar Hub A",nodeCode:"21100000008-2N",nodeType:"SOLAR",status:"online",lastReportTime:"2024-09-27 03:40:21",stats:{total:6,normal:6,abnormal:0}}},{position:[113.275637,23.120178],icon:{iconUrl:r0,iconSize:[24,28]},title:"故障节点",data:{name:"Node alert",nodeCode:"21100000008-3N",nodeType:"DATA",status:"error",lastReportTime:"2024-09-27 02:30:15",stats:{total:12,normal:9,abnormal:3}}},{position:[113.290637,23.135178],icon:{iconUrl:C0,iconSize:[24,28]},title:"传感器节点2",data:{name:"Node two",nodeCode:"21100000008-4N",nodeType:"DATA",status:"error",lastReportTime:"2024-09-27 03:50:20",stats:{total:10,normal:10,abnormal:0}}},{position:[113.270637,23.115178],icon:{iconUrl:$,iconSize:[24,27]},title:"太阳能温室2",data:{name:"Solar Hub B",nodeCode:"21100000008-5N",nodeType:"SOLAR",status:"offline",lastReportTime:"2024-09-27 01:15:42",stats:{total:5,normal:4,abnormal:1}}}]);console.log(s,2);const x=g([{path:[[113.276,23.129],[113.286,23.129],[113.286,23.12],[113.276,23.12]],targetIndex:0}]),a=g(null),A=O({visible:!1}),f=g(!1),u=g(["Jan 1","Jan 5","Jan 9","Jan 13","Jan 17","Jan 21","Jan 25","Jan 29"]),k=g([30,32,34,36,37,38,40,42]),c=g("4号地"),L=m=>{a.value=m,A.visible=!0},H=m=>{const C=s.value[m.targetIndex];C&&(c.value=C.data.name||"区域详情"),f.value=!0},r=()=>{A.visible=!1,a.value=null},d=m=>{console.log("点击了列表项:",m)},o=m=>{console.log("搜索关键词:",m)};return(m,C)=>{const R=h("tdt-tilelayer-tdt"),E=h("tdt-polygon"),Z=h("tdt-marker"),J=h("tdt-map"),N=h("a-modal");return i(),p("div",p0,[e("div",u0,[n(C2,{onItemClick:d,onSearch:o}),n(J,{center:_.center,zoom:_.zoom},{default:v(()=>[n(R,{url:_.url,zIndex:1},null,8,["url"]),(i(!0),p(S,null,I(x.value,(w,z)=>(i(),y(E,{key:`region-${z}`,path:w.path,color:"#999",fillColor:"#ccc",weight:2,lineStyle:"solid",onClick:Q=>H(w)},null,8,["path","onClick"]))),128)),(i(!0),p(S,null,I(s.value,(w,z)=>(i(),y(Z,{key:z,position:w.position,icon:w.icon,onClick:Q=>L(w),class:"aaa"},null,8,["position","icon","onClick"]))),128))]),_:1},8,["center","zoom"]),n(N,{open:A.visible,"onUpdate:open":C[0]||(C[0]=w=>A.visible=w),title:null,footer:null,destroyOnClose:!0,maskClosable:!0,width:"420px",bodyStyle:{padding:0},onCancel:r},{default:v(()=>[a.value?(i(),y(R2,{key:0,data:a.value.data},null,8,["data"])):D("",!0)]),_:1},8,["open"]),n(d0,{open:f.value,"onUpdate:open":C[1]||(C[1]=w=>f.value=w),title:c.value,xData:u.value,yData:k.value},null,8,["open","title","xData","yData"]),C[2]||(C[2]=e("div",{class:"map-top-right-icons"},[e("img",{src:G,alt:"相机",class:"icon-item"}),e("img",{src:j,alt:"传感器",class:"icon-item"}),e("img",{src:q,alt:"标记位置",class:"icon-item"})],-1))])])}}}),g0=B(v0,[["__scopeId","data-v-eed2dd25"]]);export{g0 as default};
